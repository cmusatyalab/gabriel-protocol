syntax = "proto3";

package gabriel;

option java_package = "edu.cmu.cs.gabriel.network";
option java_outer_classname = "Protos";

enum Engine {
    OPENRTIST = 0;
}

message FromClient {
    enum Type {
        IMAGE = 0;
        VIDEO = 1;
        AUDIO = 2;
        ACCELEROMETER = 3;
    }

    uint64 frame_id = 1;
    Type type = 2;
    Engine engine = 3;
    bytes payload = 4;

    // engine-specific fields:
    // OpenArtist:
    string style = 5;
}

message FromServer {
    enum Status {
        SUCCESS = 0;
        UNSPECIFIED_ERROR = 1;
	QUEUE_FULL = 2;
	WRONG_INPUT_FORMAT = 3;
	REQUESTED_ENGINE_NOT_AVAILABLE = 4;
    }

    message Result {
	enum ResultType {
	    IMAGE = 0;
	    VIDEO = 1;
	    AUDIO = 2;
	    TEXT = 3;
	    ANIMATION = 4;
	}

        ResultType type = 1;
	Engine engine = 2;
        bytes payload = 3;
    }

    uint64 frame_id = 1;
    Status status = 2;
    repeated Result results = 3;
}
