syntax = "proto3";

package gabriel;

option java_package = "edu.cmu.cs.gabriel.network";
option java_outer_classname = "Protos";

message FromClient {
    enum Type {
        IMAGE = 0;
        VIDEO = 1;
        AUDIO = 2;
        ACCELEROMETER = 3;
    }

    uint64 frame_id = 1;
    Type type = 2;
    bytes payload = 3;

    // Only used by Server:
    string host = 4;

    // engine-specific fields:
    // OpenArtist:
    string style = 5;
}

message FromServer {
    enum Status {
        SUCCESS = 0;
        UNSPECIFIED_ERROR = 1;
	QUEUE_FULL = 2;
	WRONG_INPUT_FORMAT = 3;
    }

    message Result {
	enum ResultType {
	    ANIMATION = 0;
	    VIDEO = 1;
	    IMAGE = 2;
	    AUDIO = 3;
	    TEXT = 4;
	}

        ResultType type = 1;
        bytes payload = 2;
    }

    uint64 frame_id = 1;
    Status status = 2;
    repeated Result results = 3;

    // Only used by Gabriel server
    string host = 4;
}
